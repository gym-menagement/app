# 설정 화면 구현 완료

## 개요

사용자 맞춤 설정 및 개인정보 관리를 위한 설정 화면을 성공적으로 구현했습니다.

## 구현된 기능

### 1. 설정 Provider (`lib/providers/settings_provider.dart`)

앱 설정을 관리하는 Provider:

- **테마 설정**

  - 라이트 모드
  - 다크 모드
  - 시스템 설정 (기본값)
  - SharedPreferences에 저장

- **언어 설정**

  - 한국어 (기본값)
  - 영어
  - SharedPreferences에 저장

- **알림 설정**

  - 푸시 알림 on/off
  - 마케팅 알림 on/off
  - SharedPreferences에 저장

- **캐시 관리**
  - 캐시 삭제 기능
  - 설정 초기화 기능

### 2. 설정 화면 (`lib/screens/settings_screen.dart`)

4개의 섹션으로 구성된 설정 화면:

#### 섹션 1: 개인정보 관리

- **프로필 수정** (화면 준비)

  - 이름, 전화번호, 주소 수정
  - `/edit_profile` 라우트로 이동

- **비밀번호 변경** (화면 준비)

  - 새로운 비밀번호로 변경
  - `/change_password` 라우트로 이동

- **회원 탈퇴**
  - 2단계 확인 다이얼로그
  - 위험한 작업 경고 (빨간색 버튼)
  - 로그아웃 및 로그인 화면으로 이동

#### 섹션 2: 알림 설정

- **푸시 알림 토글**

  - 모든 푸시 알림 수신 on/off
  - Switch 위젯으로 즉시 변경

- **알림 상세 설정**

  - 기존 알림 설정 화면으로 이동
  - 이용권 만료, 운동 독려 등 세부 설정

- **마케팅 알림 토글**
  - 이벤트 및 프로모션 알림 on/off
  - Switch 위젯으로 즉시 변경

#### 섹션 3: 앱 설정

- **테마 설정**

  - 라디오 버튼 다이얼로그
  - 라이트/다크/시스템 선택
  - 즉시 적용

- **언어 설정**

  - 라디오 버튼 다이얼로그
  - 한국어/영어 선택
  - 앱 재시작 시 적용 안내

- **캐시 삭제**
  - 확인 다이얼로그
  - 로딩 인디케이터 표시
  - 성공/실패 스낵바

#### 섹션 4: 정보

- **앱 버전**

  - package_info_plus로 버전 정보 표시
  - 버전 번호 및 빌드 번호

- **이용약관** (준비 중)

  - 서비스 이용약관 확인

- **개인정보 처리방침** (준비 중)

  - 개인정보 보호 정책 확인

- **고객센터** (준비 중)
  - 문의 및 도움말

### 3. UI/UX 특징

- **섹션별 구분**: 아이콘과 제목으로 명확한 구분
- **카드 디자인**: GymCard 컴포넌트 사용
- **일관된 스타일**: 앱 전체 디자인 시스템 적용
- **즉각적인 피드백**: 스위치, 다이얼로그, 스낵바
- **안전장치**: 위험한 작업에 대한 2단계 확인

### 4. 통합

- **프로필 화면에 메뉴 추가**

  - "설정" 섹션에 "설정" 메뉴 추가
  - "앱 설정 및 개인정보 관리" 설명
  - 아이콘: `Icons.settings_outlined`

- **라우팅 설정**

  - `/settings` 경로 추가
  - SettingsProvider를 MultiProvider에 등록

- **패키지 추가**
  - `package_info_plus: ^8.1.2` - 앱 버전 정보

## 데이터 저장

- SharedPreferences를 사용한 로컬 저장
- 앱 재시작 시에도 설정 유지
- 설정 초기화 기능 제공

## 향후 개선 사항

- [x] 프로필 수정 화면 구현
- [x] 비밀번호 변경 화면 구현
- [ ] 이용약관 화면 구현
- [ ] 개인정보 처리방침 화면 구현
- [ ] 고객센터 화면 구현
- [ ] 다크 모드 테마 구현
- [ ] 다국어 지원 (i18n)

## 파일 구조

```
lib/
├── providers/
│   └── settings_provider.dart         ✨ NEW
├── screens/
│   ├── settings_screen.dart           ✨ NEW
│   └── profile_screen.dart            📝 UPDATED
└── main.dart                          📝 UPDATED

pubspec.yaml                           📝 UPDATED (package_info_plus 추가)
```

## 사용된 패키지

- `package_info_plus: ^8.1.2` - 앱 버전 정보
- `shared_preferences: ^2.2.2` - 로컬 설정 저장
- `provider: ^6.1.2` - 상태 관리
- `flutter/material.dart` - UI 컴포넌트

## 테스트 방법

1. 앱 실행
2. 로그인
3. 프로필 탭으로 이동
4. "설정" 메뉴 클릭
5. 각 섹션 확인:
   - 개인정보 관리: 프로필 수정, 비밀번호 변경, 회원 탈퇴
   - 알림 설정: 푸시 알림, 알림 상세 설정, 마케팅 알림
   - 앱 설정: 테마, 언어, 캐시 삭제
   - 정보: 앱 버전, 이용약관, 개인정보 처리방침, 고객센터

## 주요 기능 시연

### 테마 변경

1. "앱 설정" > "테마 설정" 클릭
2. 라이트/다크/시스템 중 선택
3. 즉시 적용 (현재는 시스템 설정만 동작)

### 캐시 삭제

1. "앱 설정" > "캐시 삭제" 클릭
2. 확인 다이얼로그에서 "삭제" 클릭
3. 로딩 표시 후 완료 메시지

### 회원 탈퇴

1. "개인정보 관리" > "회원 탈퇴" 클릭
2. 첫 번째 확인 다이얼로그에서 "탈퇴" 클릭
3. 두 번째 최종 확인 다이얼로그에서 "탈퇴" 클릭
4. 로딩 후 로그아웃 및 로그인 화면으로 이동

## 결론

설정 화면이 성공적으로 구현되었습니다. 사용자는 이제 앱 설정을 자유롭게 변경하고, 개인정보를 관리하며, 알림 설정을 조정할 수 있습니다. 프로필 수정 및 비밀번호 변경 화면은 향후 구현 예정입니다.
